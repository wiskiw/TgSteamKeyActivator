{"version":3,"sources":["../../../src/state/reducer/index.js"],"names":["combineReducers","createReducer","append","MAIN","NET","API","networker","request","active","ACTIVATED","uid","SWITCH_ON","state","payload","messageHistory","DONE_REQUEST","data","result","thread","messages","rest","direction","SEND","id","message","msg_id","seqNo","seq_no","homeDc","mainReducer","_"],"mappings":";;AAEA,SAASA,eAAT,QAAgC,OAAhC;AACA,SAASC,aAAT,QAA8B,WAA9B;AACA,SAASC,MAAT,QAAuB,OAAvB;;AAEA,OAAoC,YAApC;AACA,SAASC,IAAT,EAAeC,GAAf,EAAoBC,GAApB,QAA+B,WAA/B;AACA,OAAqC,WAArC;AACA,OAAiC,cAAjC;;AAEA,OAAOC,SAAP,MAAsB,mBAAtB;AACA,OAAOC,OAAP,MAAoB,WAApB;;AAEA,IAAMC,SAASP,cAAc;AAC3B;AACA,GAACE,KAAKM,SAAN,GAAkB,MAAM;AAFG,CAAd,EAGZ,KAHY,CAAf;;AAKA,IAAMC,MAAMT,cAAc;AACxB;AACA,GAACE,KAAKQ,SAAN,GAAkB,CAACC,KAAD,EAAQC,OAAR,KAA4BA;AAFtB,CAAd,EAGT,GAHS,CAAZ;;AAKA,IAAMC,iBAAiBb,cAAc;AACnC;AACA,GAACI,IAAIU,YAAL,GAAoB,CAACH,KAAD,EAA0BI,IAA1B,KAAkE;AACpF;AACA,QAAM,EAAEC,MAAF,EAAUC,MAAV,EAAkBC,QAAlB,KAAwCH,IAA9C;AAAA,QAAqCI,IAArC,4BAA8CJ,IAA9C;AACA;AACA;AACA,WAAOd,OAAO;AACZiB,cADY;AAEZE,iBAAW,IAFC,EAAP,EAEcT,KAFd,CAAP;AAGD,GAVkC;AAWnC;AACA,GAACR,IAAIkB,IAAL,GAAY,CAACV,KAAD,EAA0BC,OAA1B,KACVX,OAAO;AACLqB,QAAWV,QAAQW,OAAR,CAAgBC,MADtB;AAELC,WAAWb,QAAQW,OAAR,CAAgBG,MAFtB;AAGLN,eAAW,KAHN,EAAP,EAGsBT,KAHtB;AAbiC,CAAd,EAiBpB,EAjBoB,CAAvB;;AAmBA,IAAMgB,SAAS3B,cAAc,EAAd,EAEZ,CAFY,CAAf;;AAIA,IAAM4B,cAAc7B,gBAAgB;AAClC8B,KAAG,MAAM,IADyB;AAElCtB,QAFkC;AAGlCoB,QAHkC;AAIlClB,KAJkC;AAKlCI,gBALkC;AAMlCR,WANkC;AAOlCC;AAPkC,CAAhB,CAApB;;AAUA,eAAesB,WAAf","file":"index.js","sourcesContent":["//@flow\n\nimport { combineReducers } from 'redux'\nimport { createReducer } from 'redux-act'\nimport { append } from 'ramda'\n\nimport { type MessageHistory } from '../index.h'\nimport { MAIN, NET, API } from '../action'\nimport { type NetIncomingData } from '../action'\nimport { type TaskEndData } from '../epic/task'\n\nimport networker from './networker-state'\nimport request from './request'\n\nconst active = createReducer({\n  //$FlowIssue\n  [MAIN.ACTIVATED]: () => true,\n}, false)\n\nconst uid = createReducer({\n  //$FlowIssue\n  [MAIN.SWITCH_ON]: (state, payload: string) => payload,\n}, ' ')\n\nconst messageHistory = createReducer({\n  //$FlowIssue\n  [API.DONE_REQUEST]: (state: MessageHistory[], data: NetIncomingData & TaskEndData) => {\n    // console.log(data)\n    const { result, thread, messages, ...rest } = data\n    // console.log(result)\n    // console.log(rest)\n    return append({\n      messages,\n      direction: 'in' }, state)\n  },\n  //$FlowIssue\n  [NET.SEND]: (state: MessageHistory[], payload) =>\n    append({\n      id       : payload.message.msg_id,\n      seqNo    : payload.message.seq_no,\n      direction: 'out' }, state),\n}, [])\n\nconst homeDc = createReducer({\n\n}, 2)\n\nconst mainReducer = combineReducers({\n  _: () => true,\n  active,\n  homeDc,\n  uid,\n  messageHistory,\n  networker,\n  request,\n})\n\nexport default mainReducer\n"]}