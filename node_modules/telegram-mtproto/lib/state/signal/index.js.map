{"version":3,"sources":["../../../src/state/signal/index.js"],"names":["rootSignal","root","multicast","isActive","map","state","active","skipRepeats","whenActive","homeDc","uid","networker","stateModel"],"mappings":";;;;;;;AAEA;;;;AACA;;AACA;;AACA;;AACA;;;;AACA;;;;AAQO,IAAMA,kCAA6B,yBAAnC;AACP,IAAMC,OAAsBD,WAAWE,SAAX,EAA5B;;AAEA,IAAMC,WAAWF,KACdG,GADc,CACVC,SAASA,MAAMC,MADL,EAEdC,WAFc,EAAjB;;QAIqBD,M,GAAZH,Q;AACF,IAAMK,kCAAa,yBAAQL,QAAR,CAAnB;;AAEA,IAAMM,0BAASR,KACnBG,GADmB,CACfC,SAASA,MAAMI,MADA,EAEnBF,WAFmB,EAAf;;AAIA,IAAMG,oBAAMT,KAChBG,GADgB,CACZC,SAASA,MAAMK,GADH,EAEhBH,WAFgB,EAAZ;;AAIA,IAAMI,gCAAYV,KACtBG,GADsB,CAClBC,SAASA,MAAMM,SADG,CAAlB;;AAGP,IAAMC,aAAa;AACjBN,UAAQH,QADS;AAEjBM,QAFiB;AAGjBC,KAHiB;AAIjBC;AAJiB,CAAnB;;kBAOeC,U","file":"index.js","sourcesContent":["//@flow\n\nimport store from '../core'\nimport { type State } from '../index.h'\nimport { async } from 'most-subject'\nimport { type Stream } from 'most'\nimport Config from '../../config-provider'\nimport { faucetC } from '../../pull-stream'\n\ninterface Subject<T> extends Stream<T> {\n  next (value: T): Subject<T>,\n  error(err: Error): Subject<T>,\n  complete (value?: T): Subject<T>,\n}\n\nexport const rootSignal: Subject<State> = async()\nconst root: Stream<State> = rootSignal.multicast()\n\nconst isActive = root\n  .map(state => state.active)\n  .skipRepeats()\n\nexport { isActive as active }\nexport const whenActive = faucetC(isActive)\n\nexport const homeDc = root\n  .map(state => state.homeDc)\n  .skipRepeats()\n\nexport const uid = root\n  .map(state => state.uid)\n  .skipRepeats()\n\nexport const networker = root\n  .map(state => state.networker)\n\nconst stateModel = {\n  active: isActive,\n  homeDc,\n  uid,\n  networker,\n}\n\nexport default stateModel\n"]}