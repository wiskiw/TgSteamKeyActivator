{"version":3,"sources":["../src/util.js"],"names":["curry","fn","_curry","length","arity","curry2","curry3","curried","a","b","_curry2","rename","c","_curry3","undefined","fn2a","fn3b","fn3a","source","target","setName","name","Object","defineProperty","enumerable","value"],"mappings":";;;;;QAcgBA,K,GAAAA,K;AAdhB;;;;;;;;;;;;AAcO,SAASA,KAAT,CAAeC,EAAf,iBAA6B;AAClC,SAAOC,OAAOD,EAAP,EAAWA,GAAGE,MAAd,CAAP;AACD;;AAED,SAASD,MAAT,CAAgBD,EAAhB,iBAA8BG,KAA9B,eAA6C;AAC3C,UAAQA,KAAR;AACE,SAAK,CAAL;AACA,SAAK,CAAL;AAAQ,aAAOH,EAAP;AACR;AACA,SAAK,CAAL;AAAQ,aAAOI,OAAOJ,EAAP,CAAP;AACR;AACA,SAAK,CAAL;AAAQ,aAAOK,OAAOL,EAAP,CAAP;AACR;AAAS,aAAOA,EAAP;AAPX;AASD;;AAED,SAASI,MAAT,kBAAyBJ,EAAzB,gDAAiE;AAC/D,WAASM,OAAT,CAAiBC,CAAjB,UAAuBC,CAAvB,EAA0B;AACxB,WAAOC,QAAQT,EAAR,EAAYO,CAAZ,EAAeC,CAAf,CAAP;AACD;AACDE,SAAOV,EAAP,EAAWM,OAAX;AACA,SAAOA,OAAP;AACD;;AAED,SAASD,MAAT,qBAA4BL,EAA5B,yDAA6E;AAC3E,WAASM,OAAT,CAAiBC,CAAjB,EAAoBC,CAApB,EAAuBG,CAAvB,2BAA8C;AAC5C,WAAOC,QAAQZ,EAAR,EAAYO,CAAZ,EAAeC,CAAf,EAAkBG,CAAlB,CAAP;AACD;AACDD,SAAOV,EAAP,EAAWM,OAAX;AACA,SAAOA,OAAP;AACD;;AAED,SAASG,OAAT,kBAA0BT,EAA1B,0BAAiDO,CAAjD,UAAuDC,CAAvD,wCAAmF;AACjF,MAAIA,MAAMK,SAAV,EACE,OAAOb,GAAGO,CAAH,EAAMC,CAAN,CAAP;AACF,SAAOM,KAAKd,EAAL,EAASO,CAAT,CAAP;AACD;;AAED,SAASK,OAAT,qBAA6BZ,EAA7B,gCAA0DO,CAA1D,UAAgEC,CAAhE,cAAuEG,CAAvE,cAA8E;AAC5E,MAAIA,MAAME,SAAN,IAAmBL,MAAMK,SAA7B,EACE,OAAOb,GAAGO,CAAH,EAAMC,CAAN,EAASG,CAAT,CAAP;AACF,MAAIH,MAAMK,SAAV,EACE,OAAOE,KAAKf,EAAL,EAASO,CAAT,EAAYC,CAAZ,CAAP;AACF,SAAOQ,KAAKhB,EAAL,EAASO,CAAT,CAAP;AACD;;AAED,SAASO,IAAT,kBAAuBd,EAAvB,0BAA8CO,CAA9C,4BAAiE;AAC/D,SAAO,UAASC,CAAT,kBAAkB;AAAE,WAAOR,GAAGO,CAAH,EAAMC,CAAN,CAAP;AAAiB,GAA5C;AACD;;AAED,SAASQ,IAAT,CAAchB,EAAd,iBAA4BO,CAA5B,cAAsC;AACpC,SAAO,UAASC,CAAT,cAAmBG,CAAnB,cAA6B;AAClC,QAAIA,MAAME,SAAV,EACE,OAAOb,GAAGO,CAAH,EAAMC,CAAN,EAASG,CAAT,CAAP;AACF,WAAOI,KAAKf,EAAL,EAASO,CAAT,EAAYC,CAAZ,CAAP;AACD,GAJD;AAKD;;AAED,SAASO,IAAT,CAAcf,EAAd,iBAA4BO,CAA5B,cAAsCC,CAAtC,cAAgD;AAC9C,SAAO,UAASG,CAAT,cAAmB;AAAE,WAAOX,GAAGO,CAAH,EAAMC,CAAN,EAASG,CAAT,CAAP;AAAoB,GAAhD;AACD;;AAED,SAASD,MAAT,CAAgBO,MAAhB,iBAAkCC,MAAlC,iBAAoD;AAClDC,UAAQF,OAAOG,IAAf,EAAqBF,MAArB;AACD;;AAED,SAASC,OAAT,CAAiBC,IAAjB,eAA+BF,MAA/B,iBAAiD;AAC/CG,SAAOC,cAAP,CAAsBJ,MAAtB,EAA8B,MAA9B,EAAsC;AACpCK,gBAAY,KADwB;AAEpCC,WAAYJ;AAFwB,GAAtC;AAID","file":"util.js","sourcesContent":["//@flow\n\ninterface Curry2<A, B, +R> {\n  (a: A, b: B): R,\n  (a: A): (b: B) => R,\n}\n\ninterface Curry3<A, B, C, +R> {\n  (a: A, b: B, c: C): R,\n  (a: A, b: B): (c: C) => R,\n  (a: A): (b: B, c: C) => R,\n  (a: A): (b: B) => (c: C) => R,\n}\n\nexport function curry(fn: Function) {\n  return _curry(fn, fn.length)\n}\n\nfunction _curry(fn: Function, arity: number) {\n  switch (arity) {\n    case 0:\n    case 1: return fn\n    //$FlowIssue No annotation for function arguments yet\n    case 2: return curry2(fn)\n    //$FlowIssue No annotation for function arguments yet\n    case 3: return curry3(fn)\n    default: return fn\n  }\n}\n\nfunction curry2<A, B, R>(fn: (a: A, b: B) => R): Curry2<A, B, R> {\n  function curried(a: A, b) {\n    return _curry2(fn, a, b)\n  }\n  rename(fn, curried)\n  return curried\n}\n\nfunction curry3<A, B, C, R>(fn: (a: A, b: B, c: C) => R): Curry3<A, B, C, R> {\n  function curried(a, b, c): Curry3<A, B, C, R> {\n    return _curry3(fn, a, b, c)\n  }\n  rename(fn, curried)\n  return curried\n}\n\nfunction _curry2<A, B, R>(fn: (a: A, b: B) => R, a: A, b?: B): (R | ((b: B) => R)) {\n  if (b !== undefined)\n    return fn(a, b)\n  return fn2a(fn, a)\n}\n\nfunction _curry3<A, B, C, R>(fn: (a: A, b: B, c: C) => R, a: A, b?: B, c?: C) {\n  if (c !== undefined && b !== undefined)\n    return fn(a, b, c)\n  if (b !== undefined)\n    return fn3b(fn, a, b)\n  return fn3a(fn, a)\n}\n\nfunction fn2a<A, B, R>(fn: (a: A, b: B) => R, a: A): (b: B) => R {\n  return function(b: B): R { return fn(a, b) }\n}\n\nfunction fn3a(fn: Function, a: mixed) {\n  return function(b: mixed, c: mixed) {\n    if (c !== undefined)\n      return fn(a, b, c)\n    return fn3b(fn, a, b)\n  }\n}\n\nfunction fn3b(fn: Function, a: mixed, b: mixed) {\n  return function(c: mixed) { return fn(a, b, c) }\n}\n\nfunction rename(source: Function, target: Function) {\n  setName(source.name, target)\n}\n\nfunction setName(name: string, target: Function) {\n  Object.defineProperty(target, 'name', {\n    enumerable: false,\n    value     : name,\n  })\n}\n"]}