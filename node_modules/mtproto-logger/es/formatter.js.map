{"version":3,"sources":["../src/formatter.js"],"names":["format","supportsColor","stripColor","stream","process","stdout","write","e","replaceModuleName","str","replace","prepareString","formatLines","split","writer","log","splits","result","map","forEach"],"mappings":"AAEA,SAASA,MAAT,QAAuB,MAAvB;AACA,SAASC,aAAT,EAAwBC,UAAxB,QAA0C,OAA1C;;AAEA,MAAMC,SAASC,QAAQC,MAAvB;AACA,MAAMC,QAASC,CAAD,IAAe;AAC3BJ,SAAOG,KAAP,CAAc,KAAIC,CAAE,EAApB;AACD,CAFD;;AAIA,MAAMC,oBAAqBC,GAAD,IAAiBA,IAAIC,OAAJ,CAAY,mBAAZ,EAAiC,EAAjC,CAA3C;;AAEA,IAAIC,gBAAgBH,iBAApB;AACA,IAAI,CAACP,aAAL,EACEU,gBAAiBF,GAAD,IAAiBP,WAAWM,kBAAkBC,GAAlB,CAAX,CAAjC;;AAEF,MAAMG,cAAeH,GAAD,IAAgBT,OAAO,GAAGS,GAAV,EAAeI,KAAf,CAAqB,IAArB,CAApC;;AAEA,MAAMC,SAAUC,GAAD,IAAY,CAAC,GAAGN,GAAJ,KAAmB;AAC5C,QAAMO,SAASJ,YAAYH,GAAZ,CAAf;AACA,QAAMQ,SAASD,OAAOE,GAAP,CAAWP,aAAX,CAAf;AACAM,SAAOE,OAAP,CAAeb,KAAf;AACD,CAJD;;AAMA,eAAeQ,MAAf","file":"formatter.js","sourcesContent":["//@flow\n\nimport { format } from 'util'\nimport { supportsColor, stripColor } from 'chalk'\n\nconst stream = process.stdout\nconst write = (e: string) => {\n  stream.write(`\\n${e}`)\n}\n\nconst replaceModuleName = (str: string) => str.replace('telegram-mtproto:', '')\n\nlet prepareString = replaceModuleName\nif (!supportsColor)\n  prepareString = (str: string) => stripColor(replaceModuleName(str))\n\nconst formatLines = (str: any[]) => format(...str).split('\\n')\n\nconst writer = (log: *) => (...str: any[]) => {\n  const splits = formatLines(str)\n  const result = splits.map(prepareString)\n  result.forEach(write)\n}\n\nexport default writer\n"]}